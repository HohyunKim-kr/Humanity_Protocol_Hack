<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Humanity Dating App</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <canvas id="three-canvas"></canvas>

    <header class="app-header">
      <img src="/assets/logo.png" class="logo" alt="ì•± ë¡œê³ " />
      <div class="auth-status">
        <span id="status">ğŸ” ì¸ì¦ ìƒíƒœ: ë¯¸í™•ì¸</span>
      </div>
    </header>

    <main class="main-content">
      <h1 class="main-title">Real. <span class="highlight">Human.</span> Connection.</h1>

      <div class="profile-controls">
        <p>â¤ï¸ ì‹¬ë°•ìˆ˜: <span id="bpm">--</span> bpm</p>
        <div class="button-group">
          <button id="connectWalletBtn">ì§€ê°‘ ì—°ê²°</button>
          <button id="startBtn">ğŸ’“ ë§¤ì¹­ ì‹œì‘</button>
          <button id="nextBtn">â¡ï¸ ë‹¤ìŒ</button>
        </div>
      </div>
      
      <div class="profile-info-card">
        <p>ğŸ” ë§¤ì¹­í•  ìƒëŒ€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
        <!-- JSê°€ ì—¬ê¸° ë‚´ìš©ì„ ì±„ì›Œì¤ë‹ˆë‹¤ -->
      </div>
      

      <svg class="pulse-meter" width="100" height="100">
        <circle cx="50" cy="50" r="45" stroke="#888" stroke-width="10" fill="none" />
        <circle id="pulse-circle" cx="50" cy="50" r="45" stroke="#ff6b81" stroke-width="10" fill="none"
                stroke-dasharray="283" stroke-dashoffset="283" stroke-linecap="round" />
      </svg>

      <div id="match-result" class="hidden"></div>

      <div class="chat-ui chat-hidden">
        <div class="token-balance">TALK ì”ì•¡: 4</div>
        <textarea placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
        <button>1 TALK ì „ì†¡</button>
      </div>

      <!-- âœ… VC ë“±ë¡ ìš”ì²­ ì˜ì—­ -->
      <div class="vc-request" style="margin-top: 3rem; background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 8px; max-width: 500px; margin-inline: auto;">
        <h2>ğŸ“ VC ë“±ë¡ ìš”ì²­</h2>
        <input type="text" id="walletRequest" placeholder="ì§€ê°‘ ì£¼ì†Œ ì…ë ¥" style="width: 100%; padding: 0.5rem;" />
        <button id="requestRegisterBtn" style="margin-top: 0.5rem; padding: 0.5rem 1rem;">ğŸ“© ë“±ë¡ ìš”ì²­í•˜ê¸°</button>
        <p id="requestResult" style="margin-top: 1rem;"></p>
      </div>
    </main>

    <script type="module" src="/src/main.js"></script>
    <script>
      // VC ë“±ë¡ ìš”ì²­ ë²„íŠ¼ ê¸°ëŠ¥ (ë°±ì—”ë“œ ì—†ì´ ì½˜ì†” ë¡œê·¸ë§Œ)
      document.getElementById("requestRegisterBtn")?.addEventListener("click", async () => {
        const input = document.getElementById("walletRequest");
        const resultEl = document.getElementById("requestResult");
        const address = input.value.trim();
        if (!/^0x[a-fA-F0-9]{40}$/.test(address)) {
          resultEl.innerText = "âŒ ìœ íš¨í•œ ì§€ê°‘ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
          return;
        }
        try {
          console.log("ğŸ“¨ VC ë“±ë¡ ìš”ì²­ë¨:", address);
          resultEl.innerText = "âœ… ë“±ë¡ ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.";
        } catch (err) {
          console.error(err);
          resultEl.innerText = "âŒ ìš”ì²­ ì‹¤íŒ¨: " + err.message;
        }
      });
    </script>
  </body>
</html>
